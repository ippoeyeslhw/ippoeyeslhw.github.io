<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>go-signal | lhw_itguy</title>

    <style>body{margin:40px auto;max-width:650px;line-height:1.6;font-size:18px;color:#444;padding:0 10px}h1,h2,h3{line-height:1.2}div.header h1{padding-top:0;padding-bottom:8px;margin-bottom:24px;font-size:18px;font-weight:400;border-bottom:1px solid}.header-menu{float:right}ul.pagination{list-style-type:none;text-align:center;padding:0}ul.pagination>li{padding:0 8px;display:inline-block}div.footer{border-top:1px solid;text-align:center}img{max-width:100%;max-height:100%;display:block;margin-left:auto;margin-right:auto}body{font-family:-apple-system,BlinkMacSystemFont,avenir next,Avenir,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol}code{font-family:lucida console,Monaco,monospace;font-size:85%}</style>

    
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/go.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
<div class="header">
    <h1>
        <a href="/">lhw_itguy</a>
        <div class="header-menu">
            <a href="/posts/">posts</a>
        </div>
    </h1>
</div>
<div id="content">

<header>
    <h1>go-signal</h1>
    

<div class="post-meta">
    Date &#x5b;
    <time datetime="2019-04-16">Apr 16, 2019</time>
    &#x5d;
</div>
</header>
<article>
    <p>고언어에서 os signal 을 콘트롤 하는 방법을 찾아보았다.</p>

<pre><code class="language-go">package main                                            
                                                          
import (                                                  
    &quot;fmt&quot;                                                 
    &quot;os&quot;                                                  
    &quot;os/signal&quot;                                           
    &quot;syscall&quot;                                             
    &quot;time&quot;                                                
)                                                         
                                                          
func main() {                                             
                                                          
    // signal 채널을 만든다.                              
    signal_chan := make(chan os.Signal, 2)                
    signal.Notify(signal_chan, syscall.SIGINT) // ctrl+c  
                                                          
    // loop                                               
    isDone := false                                       
    for isDone != true {                                  
        // signal handler                                 
        select {                                          
        case sig := &lt;-signal_chan:                        
            fmt.Println(&quot;signal!! &quot;, sig)                 
            isDone = true                                 
        default:                                          
            isDone = false                                
        }                                                 
        time.Sleep(1)                                     
    }                                                     
}                                                         
</code></pre>

<p>채널을 통해서 signal을 전달하게 된다. 버퍼드채널과 select 를 이용하여 non-blocking 으로 구현하였다</p>

</article>


    </div>
<div class="footer">
    
    
    <div class="footer-links">
        <a href="/posts/">Posts</a>,
        
        <a href="https://github.com/ippoeyeslhw/ippoeyeslhw.github.io">GitHub</a>,
        
    </div>
    

    
    
</div>
</body>

</html>